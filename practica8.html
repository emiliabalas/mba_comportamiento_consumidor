<!DOCTYPE html>
<html lang="es" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journey TO-BE: Platzi Bolivia 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 400px; }
        }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3); border-color: #34d399; }
        .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 300ms; }
        .active-tab { border-bottom: 2px solid #34d399; color: #34d399; font-weight: 600; }
        .inactive-tab { color: #94a3b8; } /* Slate 400 */
        .inactive-tab:hover { color: #f8fafc; } /* Slate 50 */
        @keyframes pulse-green {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .scanning { animation: pulse-green 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        
        /* Custom Scrollbar for Dark Mode */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
    </style>
    <!-- Application Structure Plan: Dark Mode Adapted. 
         Palette: Slate 950 (Background), Slate 900 (Cards), Emerald 400/Purple 400 (Accents).
         Text: Slate 200 (Primary), Slate 400 (Secondary).
    -->
</head>
<body class="bg-slate-950 text-slate-300 min-h-screen flex flex-col selection:bg-emerald-500 selection:text-white">

    <!-- Header -->
    <header class="bg-slate-900 border-b border-slate-800 sticky top-0 z-50 backdrop-blur-md bg-opacity-90">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-xl font-bold text-white tracking-tight">Informe Taller 8: Journey TO-BE</h1>
                <p class="text-xs text-slate-500">Caso: Platzi Bolivia 2025 | Perfil: "Luna" (Freelancer Tech)</p>
            </div>
            <div class="text-right hidden sm:block">
                <p class="text-sm font-semibold text-emerald-400">Objetivo: Eliminaci√≥n de Fricci√≥n</p>
                <p class="text-xs text-slate-500">Analistas: E. Gamarra & V. Camacho</p>
            </div>
        </div>
    </header>

    <!-- Main Navigation -->
    <nav class="bg-slate-900 shadow-sm mb-6 border-b border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex space-x-8 overflow-x-auto" id="nav-tabs">
                <!-- Navigation inserted by JS -->
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full pb-12" id="main-content">
        <!-- Dynamic Content Injected Here -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 border-t border-slate-800 text-slate-500 py-8 mt-auto">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-sm">¬© 2025 Taller de Comportamiento del Consumidor. Dise√±ado para la conversi√≥n estrat√©gica.</p>
        </div>
    </footer>

    <script>
        // Set Chart.js Defaults for Dark Mode
        Chart.defaults.color = '#94a3b8'; // Slate 400
        Chart.defaults.borderColor = '#334155'; // Slate 700

        // --- DATA STORE ---
        const appData = {
            sections: [
                { id: 'transformacion', label: '1. Transformaci√≥n (AS-IS vs TO-BE)' },
                { id: 'neuro', label: '2. Simulaciones Estrat√©gicas' },
                { id: 'journey', label: '3. Mapa del Nuevo Viaje' },
                { id: 'wow', label: '4. El Momento WOW' },
                { id: 'viabilidad', label: '5. Viabilidad' }
            ],
            painPoints: [
                {
                    title: "El Filtro Divisa",
                    asis: "Bloqueo bancario. Tarjeta rechazada ($50 l√≠mite). Frustraci√≥n por tener dinero pero no poder pagar.",
                    tobe: "Pasarela Nativa 'Supervivencia'",
                    tech: "Geolocalizaci√≥n + API QR Simple / Lib√©lula",
                    desc: "Detecci√≥n de IP boliviana que elimina el checkout internacional y despliega cobro local inmediato en Bolivianos."
                },
                {
                    title: "Incertidumbre de Vigencia",
                    asis: "¬øEl curso es de 2022 o 2025? Percibe la oferta como 'vende-humo' desactualizado.",
                    tobe: "Widget 'Vigencia Verificada'",
                    tech: "IA de An√°lisis Sem√°ntico (Web Scraping)",
                    desc: "Indicador din√°mico que escanea docs oficiales vs. guion del curso para garantizar actualidad."
                },
                {
                    title: "Silencio en el Fallo",
                    asis: "Error en transacci√≥n = Limbo. Miedo a d√©bito fantasma sin recibir el servicio.",
                    tobe: "Bot de Rescate Proactivo",
                    tech: "WhatsApp Business API + Triggers",
                    desc: "Al detectar error/abandono (>2min), contacto inmediato por WhatsApp con soluci√≥n directa."
                },
                {
                    title: "Desalineaci√≥n de Inversi√≥n (Insight)",
                    asis: "Precio visto como GASTO que compite con herramientas de trabajo (ChatGPT, Hosting).",
                    tobe: "Bundle Infraestructura + Educaci√≥n",
                    tech: "Alianzas B2B (API Keys)",
                    desc: "Suscripci√≥n incluye 6 meses Notion Plus, cr√©ditos AWS y GitHub Pro. Se vende como 'Kit de Productividad'."
                }
            ],
            journeyPoints: [
                { stage: "Trigger", score: 3, label: "Ansiedad ‚Üí Esperanza", details: "Anuncio enfocado en 'Facturar en D√≥lares' y 'Ahorrar en Herramientas'. Apela a la supervivencia financiera." },
                { stage: "Exploraci√≥n", score: 4, label: "Escepticismo ‚Üí Confianza", details: "Ve el Widget de Vigencia (IA) y el Anclaje de Precios ($490 vs $200). Sensaci√≥n de 'Astucia Financiera' al ver el ahorro en herramientas." },
                { stage: "Decisi√≥n & Pago", score: 5, label: "Miedo ‚Üí Alivio", details: "MOMENTO CR√çTICO SOLUCIONADO. QR Boliviano nativo. Pago en 10 seg sin llamar al banco. Cero fricci√≥n." },
                { stage: "Consumo", score: 4, label: "Flow & Control", details: "Descarga offline (ahorro de datos). Activa licencias de software (Notion/AWS). Siente control total de su inversi√≥n." },
                { stage: "Finalizaci√≥n", score: 5.5, label: "El Momento WOW", details: "Recibe el 'Starter Kit Freelancer'. No solo aprendi√≥, ahora tiene contrato legal, gu√≠a bancaria y lista de empleos." }
            ],
            wowItems: [
                {
                    title: "Plantilla Legal Internacional",
                    dolor: "Miedo a la informalidad y al impago.",
                    valor: "Profesionalizaci√≥n Instant√°nea. 'Armadura legal' para cobrar a clientes en EE.UU."
                },
                {
                    title: "Gu√≠a 'Cobrar sin Morir'",
                    dolor: "Ansiedad financiera y bloqueo de divisas.",
                    valor: "Supervivencia Pura. M√©todos verificados (USDT, Wise) para traer liquidez a Bolivia."
                },
                {
                    title: "Lista de 50 Startups Remotas",
                    dolor: "Escepticismo sobre el ROI del curso.",
                    valor: "Inmediatez de Oportunidad. Un mapa directo hacia el dinero y el empleo real."
                }
            ]
        };

        // --- STATE MANAGEMENT ---
        let currentState = {
            activeTab: 'transformacion',
            anchorActive: false,
            talentMatchUnlocked: false
        };

        // --- DOM ELEMENTS ---
        const navContainer = document.getElementById('nav-tabs');
        const contentContainer = document.getElementById('main-content');

        // --- INITIALIZATION ---
        function init() {
            renderNav();
            renderContent();
        }

        // --- RENDER FUNCTIONS ---
        function renderNav() {
            navContainer.innerHTML = appData.sections.map(section => `
                <button 
                    onclick="switchTab('${section.id}')"
                    class="py-4 px-1 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ${currentState.activeTab === section.id ? 'border-emerald-500 text-emerald-400' : 'border-transparent text-slate-500 hover:text-slate-200 hover:border-slate-700'}"
                >
                    ${section.label}
                </button>
            `).join('');
        }

        function renderContent() {
            contentContainer.innerHTML = ''; // Clear content
            
            switch (currentState.activeTab) {
                case 'transformacion':
                    renderTransformacion();
                    break;
                case 'neuro':
                    renderNeuro();
                    break;
                case 'journey':
                    renderJourney();
                    break;
                case 'wow':
                    renderWow();
                    break;
                case 'viabilidad':
                    renderViabilidad();
                    break;
            }
        }

        // --- SECTION RENDERERS ---

        function renderTransformacion() {
            const intro = createIntro('Diagn√≥stico y Soluci√≥n T√©cnica', 'Esta secci√≥n detalla la transformaci√≥n cr√≠tica de los 4 "Puntos de Dolor" identificados en el Journey AS-IS. Hemos convertido cada barrera roja (motivo de abandono) en una oportunidad verde (soluci√≥n tecnol√≥gica TO-BE), alineada con la realidad econ√≥mica de Bolivia 2025.');
            
            const grid = document.createElement('div');
            grid.className = 'grid grid-cols-1 md:grid-cols-2 gap-6';

            appData.painPoints.forEach((point, index) => {
                const card = document.createElement('div');
                card.className = 'bg-slate-900 rounded-xl shadow-lg border border-slate-800 overflow-hidden card-hover transition-all';
                card.innerHTML = `
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-slate-100">Dolor #${index + 1}: ${point.title}</h3>
                            <span class="px-3 py-1 text-xs font-semibold rounded-full bg-rose-900/30 text-rose-300 border border-rose-800">Cr√≠tico</span>
                        </div>
                        
                        <div class="mb-4 p-4 bg-rose-900/10 rounded-lg border-l-4 border-rose-500">
                            <p class="text-xs font-bold text-rose-400 uppercase mb-1">AS-IS (El Problema)</p>
                            <p class="text-sm text-slate-300">${point.asis}</p>
                        </div>

                        <div class="p-4 bg-emerald-900/10 rounded-lg border-l-4 border-emerald-500 relative overflow-hidden group">
                            <p class="text-xs font-bold text-emerald-400 uppercase mb-1">TO-BE (La Soluci√≥n)</p>
                            <h4 class="text-md font-bold text-emerald-200 mb-1">${point.tobe}</h4>
                            <p class="text-sm text-slate-300 mb-2">${point.desc}</p>
                            <div class="mt-3 pt-3 border-t border-emerald-900/30">
                                <span class="text-xs font-mono text-emerald-400 bg-slate-800 px-2 py-1 rounded border border-emerald-900">Tecnolog√≠a: ${point.tech}</span>
                            </div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });

            contentContainer.appendChild(intro);
            contentContainer.appendChild(grid);
        }

        function renderNeuro() {
            const intro = createIntro('Simulaciones Estrat√©gicas TO-BE', 'Interact√∫a con las 4 nuevas herramientas dise√±adas para generar confianza y urgencia. Estas simulaciones atacan directamente el escepticismo t√©cnico, el miedo financiero y la incertidumbre laboral de Luna.');
            
            const container = document.createElement('div');
            container.className = 'grid grid-cols-1 md:grid-cols-2 gap-6'; 

            // 1. ANCHORING
            const pricingCard = document.createElement('div');
            pricingCard.className = 'bg-slate-900 p-6 rounded-xl shadow-lg border border-slate-800 flex flex-col h-full card-hover';
            pricingCard.innerHTML = `
                <div class="flex justify-between items-center mb-4 border-b border-slate-800 pb-2">
                    <h3 class="font-bold text-slate-100">1. Anclaje de Precios</h3>
                    <button id="toggle-anchor" class="bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-800 text-xs px-3 py-1 rounded-full transition-colors font-bold">
                        ${currentState.anchorActive ? 'Ver Normal' : 'Simular Estrategia'}
                    </button>
                </div>
                <div id="pricing-display" class="flex-grow flex items-center justify-center transition-all duration-500">
                    <!-- Content injected by updatePricingDisplay -->
                </div>
            `;

            // 2. SOCIAL PROOF
            const socialCard = document.createElement('div');
            socialCard.className = 'bg-slate-900 p-6 rounded-xl shadow-lg border border-slate-800 flex flex-col h-full card-hover';
            socialCard.innerHTML = `
                <div class="mb-4 border-b border-slate-800 pb-2">
                    <h3 class="font-bold text-slate-100">2. Prueba Social T√©cnica</h3>
                </div>
                <div class="bg-slate-950 rounded-lg p-4 font-mono text-xs text-slate-400 border border-slate-800 shadow-inner flex-grow">
                    <div class="flex items-center space-x-2 border-b border-slate-800 pb-2 mb-2">
                        <div class="w-2 h-2 rounded-full bg-rose-500"></div>
                        <div class="w-2 h-2 rounded-full bg-yellow-500"></div>
                        <div class="w-2 h-2 rounded-full bg-emerald-500"></div>
                        <span class="text-[10px] text-slate-500 ml-2">Live Activity</span>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-start">
                            <span class="text-emerald-400 mr-2">‚ûú</span>
                            <div>
                                <span class="text-slate-200 font-bold">@dev_pablo</span> deployed <span class="text-blue-400">Next.js App</span>
                                <span class="text-[10px] text-slate-600 block">hace 5 min ‚Ä¢ Sucre</span>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <span class="text-emerald-400 mr-2">‚ûú</span>
                            <div>
                                <span class="text-slate-200 font-bold">@luna_code</span> verified <span class="text-yellow-400">AWS Cert</span>
                                <span class="text-[10px] text-slate-600 block">hace 12 min ‚Ä¢ La Paz</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // 3. AI VALIDATOR
            const aiCard = document.createElement('div');
            aiCard.className = 'bg-slate-900 p-6 rounded-xl shadow-lg border border-slate-800 flex flex-col h-full relative overflow-hidden card-hover';
            aiCard.innerHTML = `
                <div class="mb-4 border-b border-slate-800 pb-2 flex justify-between items-center">
                    <h3 class="font-bold text-slate-100">3. Auditor√≠a de Vigencia con IA</h3>
                    <span class="text-xs bg-purple-900/30 text-purple-300 border border-purple-800 px-2 py-0.5 rounded">Nuevo</span>
                </div>
                <p class="text-xs text-slate-400 mb-3">La IA escanea la documentaci√≥n oficial en tiempo real para validar el curso.</p>
                
                <div class="flex space-x-2 mb-3">
                    <select id="course-select" class="text-sm border border-slate-700 rounded px-2 py-1 flex-grow bg-slate-800 text-slate-200 focus:outline-none focus:border-purple-500">
                        <option value="next">Curso de Next.js</option>
                        <option value="python">Curso de Python</option>
                        <option value="cobol">Curso de COBOL Legacy</option>
                    </select>
                    <button onclick="runAiCheck()" class="bg-purple-600 hover:bg-purple-700 text-white text-xs px-3 py-1 rounded shadow transition-colors">
                        Escanear
                    </button>
                </div>

                <div id="ai-result" class="bg-slate-950 border border-slate-800 rounded p-3 text-center flex-grow flex items-center justify-center min-h-[80px]">
                    <span class="text-slate-600 text-xs">Selecciona un curso para auditar su vigencia.</span>
                </div>
            `;

            // 4. TALENT MATCH
            const talentCard = document.createElement('div');
            talentCard.className = 'bg-slate-900 p-6 rounded-xl shadow-lg border border-slate-800 flex flex-col h-full card-hover';
            talentCard.innerHTML = `
                <div class="mb-4 border-b border-slate-800 pb-2 flex justify-between items-center">
                    <h3 class="font-bold text-slate-100">4. Platzi Talent Match</h3>
                    <span class="text-xs bg-blue-900/30 text-blue-300 border border-blue-800 px-2 py-0.5 rounded">Empleabilidad</span>
                </div>
                
                <div class="flex-grow flex flex-col justify-between">
                    <div id="talent-locked" class="${currentState.talentMatchUnlocked ? 'hidden' : 'block'} text-center py-4">
                        <div class="text-4xl mb-2 grayscale opacity-50">üîí</div>
                        <h4 class="text-sm font-bold text-slate-300">Oportunidades Bloqueadas</h4>
                        <p class="text-xs text-slate-500 mt-1 mb-4">Certif√≠cate para acceder a entrevistas con empresas partner.</p>
                        <button onclick="unlockTalent()" class="w-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold py-2 rounded shadow transition-transform transform active:scale-95">
                            Simular Certificaci√≥n & Acceso
                        </button>
                    </div>

                    <div id="talent-unlocked" class="${currentState.talentMatchUnlocked ? 'block' : 'hidden'} animate-fade-in">
                        <div class="bg-emerald-900/20 border border-emerald-800 rounded p-3 mb-3 text-center">
                            <span class="text-emerald-400 font-bold text-sm block">üéâ ¬°Perfil Verificado!</span>
                            <span class="text-xs text-emerald-600">Has desbloqueado 3 entrevistas:</span>
                        </div>
                        <div class="space-y-2">
                            <div class="flex items-center bg-slate-800 p-2 rounded border border-slate-700">
                                <div class="w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-xs mr-2">N</div>
                                <div class="text-xs">
                                    <span class="font-bold block text-slate-200">Nubank</span>
                                    <span class="text-slate-500">React Developer ‚Ä¢ Remoto</span>
                                </div>
                            </div>
                            <div class="flex items-center bg-slate-800 p-2 rounded border border-slate-700">
                                <div class="w-6 h-6 bg-yellow-600 rounded-full flex items-center justify-center text-white text-xs mr-2">M</div>
                                <div class="text-xs">
                                    <span class="font-bold block text-slate-200">MercadoLibre</span>
                                    <span class="text-slate-500">Data Analyst ‚Ä¢ H√≠brido</span>
                                </div>
                            </div>
                        </div>
                        <button onclick="unlockTalent()" class="mt-3 text-xs text-slate-500 hover:text-slate-300 underline w-full text-center">Reiniciar Simulaci√≥n</button>
                    </div>
                </div>
            `;

            container.appendChild(pricingCard);
            container.appendChild(socialCard);
            container.appendChild(aiCard);
            container.appendChild(talentCard);
            
            contentContainer.appendChild(intro);
            contentContainer.appendChild(container);

            updatePricingDisplay(); 
            
            document.getElementById('toggle-anchor').onclick = () => {
                currentState.anchorActive = !currentState.anchorActive;
                updatePricingDisplay();
                const btn = document.getElementById('toggle-anchor');
                btn.innerText = currentState.anchorActive ? 'Ver Normal' : 'Simular Estrategia';
            };
        }

        // --- SIMULATION LOGIC ---

        function runAiCheck() {
            const select = document.getElementById('course-select');
            const resultDiv = document.getElementById('ai-result');
            const course = select.value;
            
            resultDiv.innerHTML = `
                <div class="text-center">
                    <div class="w-8 h-8 border-4 border-purple-900 border-t-purple-400 rounded-full animate-spin mx-auto mb-2"></div>
                    <div class="text-xs text-purple-400 font-mono scanning">Escaneando Docs Oficiales...</div>
                </div>
            `;

            setTimeout(() => {
                if (course === 'cobol') {
                    resultDiv.innerHTML = `
                        <div class="text-center animate-fade-in w-full">
                            <div class="text-2xl mb-1">‚ö†Ô∏è</div>
                            <div class="text-xs font-bold text-orange-400 mb-1">Contenido Legacy</div>
                            <p class="text-[10px] text-slate-400 text-left bg-slate-800 p-2 rounded border border-orange-900/50">
                                <span class="block">Docs: <span class="text-slate-300">Stable (1985)</span></span>
                                <span class="block">Curso: <span class="text-slate-300">Versi√≥n 2020</span></span>
                                <span class="block mt-1 text-orange-500 font-bold">Estado: Archivo Hist√≥rico</span>
                            </p>
                        </div>
                    `;
                } else {
                    const techName = course === 'next' ? 'Next.js 14' : 'Python 3.12';
                    const docDate = course === 'next' ? 'Oct 2024' : 'Dic 2024';
                    
                    resultDiv.innerHTML = `
                        <div class="text-center animate-fade-in w-full">
                            <div class="text-2xl mb-1">‚úÖ</div>
                            <div class="text-xs font-bold text-emerald-400 mb-1">Contenido Verificado</div>
                            <p class="text-[10px] text-slate-400 text-left bg-slate-800 p-2 rounded border border-emerald-900/50">
                                <span class="block">Docs Oficiales: <span class="font-bold text-slate-300">${techName} (${docDate})</span></span>
                                <span class="block">Coincidencia Curso: <span class="font-bold text-emerald-500">98.5%</span></span>
                                <span class="block mt-1 text-emerald-400 font-bold text-center border-t border-emerald-900/30 pt-1">STATUS: FRESH üü¢</span>
                            </p>
                        </div>
                    `;
                }
            }, 1500);
        }

        function unlockTalent() {
            currentState.talentMatchUnlocked = !currentState.talentMatchUnlocked;
            const locked = document.getElementById('talent-locked');
            const unlocked = document.getElementById('talent-unlocked');
            
            if (currentState.talentMatchUnlocked) {
                locked.classList.add('hidden');
                unlocked.classList.remove('hidden');
            } else {
                locked.classList.remove('hidden');
                unlocked.classList.add('hidden');
            }
        }

        function updatePricingDisplay() {
            const display = document.getElementById('pricing-display');
            
            if (currentState.anchorActive) {
                display.innerHTML = `
                    <div class="flex flex-col w-full gap-2">
                        <!-- ANCHOR -->
                        <div class="p-3 rounded border border-slate-700 bg-slate-800 opacity-50 scale-95 origin-left">
                            <h4 class="text-xs font-bold text-slate-500">Plan Agency</h4>
                            <div class="text-lg font-bold text-slate-500 line-through decoration-rose-500">$490 USD</div>
                        </div>
                        <!-- TARGET -->
                        <div class="p-4 rounded-lg border-2 border-emerald-500 bg-slate-800 shadow-xl shadow-emerald-900/20 relative transform scale-105 origin-left">
                            <div class="absolute -top-2 -right-2 bg-emerald-500 text-white text-[10px] px-2 py-0.5 rounded-full font-bold shadow">MEJOR VALOR</div>
                            <h4 class="text-sm font-bold text-white">Plan Expert</h4>
                            <div class="flex items-baseline space-x-2">
                                <span class="text-2xl font-bold text-emerald-400">Bs 1.439</span>
                                <span class="text-xs text-slate-400">($200)</span>
                            </div>
                            <div class="mt-2 text-[10px] bg-emerald-900/30 text-emerald-300 p-1 rounded font-bold text-center border border-emerald-800">
                                + $300 en Herramientas GRATIS
                            </div>
                        </div>
                    </div>
                `;
            } else {
                display.innerHTML = `
                    <div class="w-full text-center p-4">
                        <h4 class="font-bold text-slate-300">Plan Expert</h4>
                        <div class="text-3xl font-bold text-white mt-2">Bs 1.439</div>
                        <div class="text-sm text-slate-500">($200 USD)</div>
                        <div class="mt-4 p-2 bg-yellow-900/20 text-yellow-500 text-[10px] rounded border border-yellow-900/50">
                            "Muy caro. Es un gasto."
                        </div>
                    </div>
                `;
            }
        }

        function renderJourney() {
            const intro = createIntro('Nuevo Mapa del Viaje (TO-BE)', 'Visualizaci√≥n interactiva de la nueva Curva Emocional. El eje Y representa el nivel de satisfacci√≥n (1-5) y el eje X las etapas del viaje.');
            
            const layout = document.createElement('div');
            layout.className = 'flex flex-col lg:flex-row gap-8';

            const chartWrapper = document.createElement('div');
            chartWrapper.className = 'w-full lg:w-2/3 bg-slate-900 p-4 rounded-xl shadow-lg border border-slate-800';
            chartWrapper.innerHTML = `
                <div class="chart-container">
                    <canvas id="journeyChart"></canvas>
                </div>
                <p class="text-center text-xs text-slate-500 mt-2">Haz clic en los puntos del gr√°fico para ver detalles</p>
            `;

            const detailsPanel = document.createElement('div');
            detailsPanel.id = 'journey-details';
            detailsPanel.className = 'w-full lg:w-1/3 bg-slate-900 p-6 rounded-xl border border-slate-800 flex flex-col justify-center';
            detailsPanel.innerHTML = `
                <div class="text-center text-slate-600">
                    <span class="text-4xl mb-2 block opacity-50">üëÜ</span>
                    <p>Selecciona una etapa en el gr√°fico.</p>
                </div>
            `;

            layout.appendChild(chartWrapper);
            layout.appendChild(detailsPanel);
            contentContainer.appendChild(intro);
            contentContainer.appendChild(layout);

            initJourneyChart();
        }

        function initJourneyChart() {
            const ctx = document.getElementById('journeyChart').getContext('2d');
            const dataScores = appData.journeyPoints.map(p => p.score);
            const labels = appData.journeyPoints.map(p => p.stage);

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Nivel Emocional (1-5)',
                        data: dataScores,
                        borderColor: '#34d399', // Emerald 400
                        backgroundColor: 'rgba(52, 211, 153, 0.1)',
                        pointBackgroundColor: '#10b981', // Emerald 500
                        pointBorderColor: '#1e293b', // Slate 800
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#34d399',
                        borderWidth: 3,
                        pointRadius: 6,
                        pointHoverRadius: 8,
                        tension: 0.3,
                        fill: true
                    },
                    {
                        label: 'L√≠nea de Riesgo',
                        data: [2, 2, 2, 2, 2],
                        borderColor: '#f43f5e', // Rose 500
                        borderWidth: 1,
                        borderDash: [5, 5],
                        pointRadius: 0,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            min: 0,
                            max: 6,
                            ticks: { stepSize: 1, color: '#94a3b8' },
                            grid: { color: '#334155' },
                            title: { display: true, text: 'Satisfacci√≥n Emocional', color: '#64748b' }
                        },
                        x: {
                            ticks: { color: '#94a3b8' },
                            grid: { color: '#334155' }
                        }
                    },
                    plugins: {
                        legend: { labels: { color: '#cbd5e1' }, position: 'bottom' },
                        tooltip: {
                            backgroundColor: '#1e293b',
                            titleColor: '#f1f5f9',
                            bodyColor: '#cbd5e1',
                            borderColor: '#475569',
                            borderWidth: 1,
                            callbacks: {
                                label: function(context) {
                                    return appData.journeyPoints[context.dataIndex].label;
                                }
                            }
                        }
                    },
                    onClick: (e, activeElements) => {
                        if (activeElements.length > 0) {
                            const index = activeElements[0].index;
                            updateJourneyDetails(index);
                        }
                    }
                }
            });
        }

        function updateJourneyDetails(index) {
            const point = appData.journeyPoints[index];
            const panel = document.getElementById('journey-details');
            
            panel.innerHTML = `
                <div class="animate-fade-in">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-xs font-bold uppercase text-emerald-400 tracking-wider">Etapa ${index + 1}</span>
                        <div class="bg-slate-950 border border-emerald-900 text-emerald-400 font-bold px-3 py-1 rounded-full text-sm">Score: ${point.score}/5</div>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-1">${point.stage}</h3>
                    <h4 class="text-md font-medium text-emerald-400 mb-4">${point.label}</h4>
                    <p class="text-slate-300 leading-relaxed text-sm">${point.details}</p>
                    
                    ${index === 2 ? `<div class="mt-4 bg-yellow-900/20 p-3 rounded text-xs text-yellow-500 border border-yellow-900/50">üèÜ Momento Cr√≠tico Resuelto: Pasarela QR</div>` : ''}
                    ${index === 4 ? `<div class="mt-4 bg-purple-900/20 p-3 rounded text-xs text-purple-400 border border-purple-900/50">‚ú® Momento WOW Activado</div>` : ''}
                </div>
            `;
        }

        function renderWow() {
            const intro = createIntro('El Momento WOW (Fidelizaci√≥n)', 'Para fidelizar a Luna, transformamos el cierre de la compra invirtiendo la ecuaci√≥n de valor: del pasivo (cursos) al activo (herramientas).');
            
            const container = document.createElement('div');
            container.className = 'grid grid-cols-1 md:grid-cols-3 gap-6 mt-8';

            appData.wowItems.forEach((item, idx) => {
                const card = document.createElement('div');
                card.className = 'bg-slate-900 rounded-xl shadow-lg border-t-4 border-purple-500 p-6 card-hover flex flex-col items-center text-center';
                
                const icons = ['‚öñÔ∏è', 'üí∏', 'üöÄ'];
                
                card.innerHTML = `
                    <div class="text-5xl mb-4 grayscale hover:grayscale-0 transition-all cursor-pointer">${icons[idx]}</div>
                    <h3 class="text-lg font-bold text-white mb-2">${item.title}</h3>
                    <div class="text-xs bg-rose-900/20 text-rose-300 px-2 py-1 rounded mb-4 w-full border border-rose-900/30">
                        <strong>Dolor que cura:</strong> ${item.dolor}
                    </div>
                    <p class="text-sm text-slate-400">${item.valor}</p>
                `;
                container.appendChild(card);
            });

            const summary = document.createElement('div');
            summary.className = 'mt-10 bg-gradient-to-r from-slate-900 to-slate-800 border border-slate-700 rounded-xl p-8 text-white text-center shadow-xl';
            summary.innerHTML = `
                <h3 class="text-2xl font-bold mb-2 text-white">Impacto Final</h3>
                <p class="text-slate-300 max-w-2xl mx-auto italic">"La marca deja de ser solo una escuela y se convierte en mi socio de negocios."</p>
                <div class="mt-4 inline-block bg-emerald-500 text-white px-4 py-1 rounded-full text-sm font-bold shadow-lg shadow-emerald-500/20">Score Emocional: 5+</div>
            `;

            contentContainer.appendChild(intro);
            contentContainer.appendChild(container);
            contentContainer.appendChild(summary);
        }

        function renderViabilidad() {
             const intro = createIntro('Validaci√≥n de Viabilidad', 'An√°lisis de factibilidad para la implementaci√≥n inmediata en el contexto boliviano.');
             
             const list = document.createElement('div');
             list.className = 'bg-slate-900 rounded-xl shadow-lg border border-slate-800 p-8 max-w-3xl mx-auto';
             list.innerHTML = `
                <ul class="space-y-6">
                    <li class="flex items-start">
                        <span class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-emerald-900/30 text-emerald-400 font-bold mr-4 border border-emerald-800">1</span>
                        <div>
                            <h4 class="text-lg font-bold text-white">Pagos QR (Alta Viabilidad)</h4>
                            <p class="text-slate-400 text-sm mt-1">Bolivia tiene penetraci√≥n masiva de QR. Integraciones con API de Lib√©lula o PagosNet son est√°ndar.</p>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-emerald-900/30 text-emerald-400 font-bold mr-4 border border-emerald-800">2</span>
                        <div>
                            <h4 class="text-lg font-bold text-white">Estrategia de Anclaje (Alta Viabilidad)</h4>
                            <p class="text-slate-400 text-sm mt-1">Solo requiere cambios en Frontend (Copywriting y Dise√±o). Costo marginal cero.</p>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-emerald-900/30 text-emerald-400 font-bold mr-4 border border-emerald-800">3</span>
                        <div>
                            <h4 class="text-lg font-bold text-white">Kit Freelancer (Alta Viabilidad)</h4>
                            <p class="text-slate-400 text-sm mt-1">Activos digitales (PDFs, Templates). Costo de replicaci√≥n cero y valor percibido inmenso.</p>
                        </div>
                    </li>
                </ul>
                <div class="mt-8 pt-6 border-t border-slate-800 text-center">
                    <p class="text-emerald-400 font-bold">Conclusi√≥n: Proyecto 100% Ejecutable en Q1 2025</p>
                </div>
             `;
             
             contentContainer.appendChild(intro);
             contentContainer.appendChild(list);
        }

        // --- UTILS ---
        function switchTab(tabId) {
            currentState.activeTab = tabId;
            renderNav();
            renderContent();
        }

        function createIntro(title, text) {
            const div = document.createElement('div');
            div.className = 'mb-8 text-center max-w-3xl mx-auto';
            div.innerHTML = `
                <h2 class="text-3xl font-bold text-white mb-3">${title}</h2>
                <p class="text-slate-400 leading-relaxed">${text}</p>
            `;
            return div;
        }

        // --- START ---
        init();

    </script>
</body>
</html>